<!DOCTYPE html>
<html>

<!-- Metadata -->
<head>

    <!-- Basic metadata -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- <meta name="description" content="The personal homepage for Jack Morris"> -->

    <!-- OpenGraph protocol markup (see: www.ogp.me) -->
    <meta property="og:title" content="Recreating the Star Wars Opening Crawl With Trigonometry and CSS" />
    <meta property="og:description" content="       " />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="http://jackxmorris.com/posts/star-wars-opening-crawl" />
    
      <meta property="og:image" content="http://jackxmorris.com/img/ogp/starwarscrawl.png" />
    

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="/css/bootstrap.min.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/main.css">
    <!-- Custom Fonts -->

    

    <!-- Scripts -->
      <!-- D3 -->
      <script src="http://d3js.org/d3.v3.min.js"></script>
      <!-- JQuery -->
      <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
      <!-- Lettering.js -->
      <script src="/scripts/jquery.lettering-0.6.1.min.js"></script>

</head>
<title> Recreating the Star Wars Opening Crawl With Trigonometry and CSS </title>

<body class="Site">
    <nav class="row jack-navbar">
  <div class="col-lg-6 col-lg-offset-3 col-md-8 col-md-offset-2 col-sm-10 col-sm-offset-1 col-xs-12"> 
    <div class="jack-navbar" href="/">
     <a href="/" id="jack-logo">JackMorris</a>
    </div>
  </div>
  <script>
    /* Style my name using LetteringJS (included on all pages via my header scripts) */


    // Color palette
    var LETTER_COLORS = ['#444', '#363636','#c9c9c9','#dadada','#888','#777'];
    var SHADOW_COLORS = ['#863027', '#9b4d1f','#9c8b26','#427021','#2f597f','#4a4d88'];

    LETTER_COLORS = ['#666'];
    SHADOW_COLORS = ['#aaa'];

    var lettering = function() {
      var elementIndex = 0;
      $("#jack-logo")
        .lettering()
        .children('span')
        .each(function(index, element) {
          var elementCSS = {};

          // color and shadow
          elementCSS['color'] = SHADOW_COLORS[elementIndex % SHADOW_COLORS.length];
          elementCSS['text-shadow'] = LETTER_COLORS[elementIndex % LETTER_COLORS.length] + ' -4px 4px 0';

          // vertical translation and rotations
          var TRANSLATION_LIMIT = 7;
          var ROTATION_LIMIT = 4;
          var translation = Math.random() * (TRANSLATION_LIMIT * 2) - TRANSLATION_LIMIT;
          var rotation = Math.random() * (ROTATION_LIMIT * 2) - ROTATION_LIMIT;
          elementCSS['top'] = '-' + translation + 'px';
          elementCSS['-webkit-transform'] = 'rotate(' + rotation + 'deg)';

          // set CSS on element
          $(element).css(elementCSS);

          // increment index
          elementIndex++;
        });
     }

     var loaded = function() {
      // set up lettering
      lettering();
      // defaults
      $('#jack-logo')
       .hover(
        function() {
        $(this)
          .children()
          .addClass('letter-hover');
       },
        function() {
          $(this)
           .children()
           .removeClass('letter-hover');
        });
     }
     $(loaded);
  </script>
</nav>

    <div class="Site-content">
      <div class="row">

        <article class="post col-lg-6 col-lg-offset-3 col-md-8 col-md-offset-2 col-sm-10 col-sm-offset-1 col-xs-12">

          <header class="post-header">
            <h2 class="post-title" itemprop="name headline">Recreating the Star Wars Opening Crawl With Trigonometry and CSS</h2>
            <p class="post-meta">
              <time datetime="2016-12-23T10:46:00-05:00" itemprop="datePublished">Dec 23, 2016</time>
              
            </p>
          </header>

          <div class="post-content" itemprop="articleBody">
            <p>With all the recent news about <em>Rogue One</em>, I wanted to pay a tribute to the Star Wars franchise. One interesting change I noticed in the new movie was a lack of scrolling introductory text before the beginning of the film. This sparked me to do research on the signature scrolling introduction used in Star Wars.</p>

<p>It turns out that this sequence is known thorughout the film industry as the “Star Wars opening crawl” and is widely regarded as one of the most effective and recognizable cinematic devices ever used. It appears in every numbered Star Wars movie (so every movie except for <em>Rogue One</em>) and has changed slightly over the years.</p>

<p>One interesting fact about the crawl is that when the original trilogy was filmed in the late 70’s, they didn’t generate this text with a computer; it was all done by hand. The production company actually printed all the text onto a 2’ by 6’ black sheet and filmed by hand very carefully to obtain the smooth scrolling effect.</p>

<h3 id="methodology">Methodology</h3>

<p>I decided that I wanted to recreate the classic effect using CSS and Javascript. I broke the crawl down into three steps: the introductory blue text, the logo, and the main body of text. Each step is animated by changing a different CSS property: opacity, dilation, and a vertical shift.</p>

<p>The entire sequence could be managed with a complex sequence of animation keyframes. However, I decided to save myself a headache and manage the animations using Javascript to edit individual CSS properties. This saved a lot of time and was much more compatible across browsers.</p>

<p>Luckily, there is already a lot of research and information about the opening crawls available online. I found information about the fonts and colors <a href="http://www.theforce.net/fanfilms/postproduction/crawl/opening.asp">here</a>. The text displayed was taken from <a href="..">Wookiepedia</a>.</p>

<h3 id="perspective">Perspective</h3>

<p>The most difficult part of using CSS was in step three where the text looks as if it’s floating off into the distance. This turns out to be a case referred to in geometry as <a href="https://en.wikipedia.org/wiki/Perspective_(geometry)">Single Point Perspective</a>. Without diving too deep into specifics of projective geometry, the scene shown in the original crawl was a portion of a two-dimensional plane viewed from a point of observation somewhere in space.</p>

<p>This point of the observer is called the <strong>point of perspective</strong>. It turns out that if we assume the size of the object in the plane (just choosing an arbitrary font size, since it’s relative) then we can estimate the point of perspective. We can also find the angle of rotation of the plane by measurin the angle between the normal and the angle of the receding text. Using the chosen font size along with the point and angle that we found, we can reproduce almost exactly the effect of perspective from the original recording.</p>

<h3 id="my-version">My Version</h3>

<div class="background-box-wrapper">
  <div class="background-box">
    <img src="../img/star-wars-crawl/background.png" alt="Background Stars" class="background-image" />
  </div>
</div>
<p style="text-align: center"><br />
<button id="animater"> Run Animation </button></p>

<h4 id="disclaimers">Disclaimers</h4>

<p>This was a proof-of-concept production and I didn’t pay much attention to things like margins, angles, and kerning. Since the original version wasn’t made with a computer, these would never match exactly anyway. Also, if you’re not using Google Chrome, there’s a good chance that something might not look right.</p>

<style>
  @font-face {
    font-family: 'SW Crawl Title';
    src: url('../fonts/SWCrawlTitle.ttf');
  }
  @font-face {
    font-family: 'SW Crawl Body';
    src: url('../fonts/SWCrawlBody.ttf');
  }
  .background-box-wrapper {
    width: 100%;
    text-align: center;
    background: #e0e0e0;
  }
  .background-box {
    margin: 10px 10px 5px 10px;
    display: inline-block;
    position: relative;
    text-align: justify;
    overflow: hidden;
    background: no-repeat url("../img/star-wars-crawl/background.png") 50% / 100%;
    perspective: 50em;
  }
  .background-box > * {
    position: absolute;
    font-size: 3em;
    margin-left: 10%;
  }
  .background-image {
    position: relative;
    vertical-align: top;
    width: 100%;
    opacity: 0;  /* make it transparent */
  }
  #swt { /* star wars text */
    color: rgb(229, 177, 58);
    font-family: "SW Crawl Body";
    top: 10px;
    margin-left: 0;
    transform: rotateX(70deg) translateY(900px) scale(1.25,1.25);
  }
  /* Introductory parts */
  #series-intro {
    opacity: 0;
    font-size: 3.5vw;
    width: 80%;
    text-align: left;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%,-50%);
    padding: 0;
    margin: 0;
    font-family: "SW Crawl Body";
    color: rgb(75, 213, 238);
  }
  #series-title {
    font-size: 40vw;
    visibility: hidden;
    color: rgb(229, 177, 58);
    margin: 0;
    width: initial;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%,-50%);
    font-family: "SW Crawl Title";
  }
  /* Different portions of text */
  #episode-number {
    font-size: 5vw;
    transform: scale(0.8,1);
    text-align: center;
  }
  #episode-title {
    font-family: "SW Crawl Title";
    font-size: 11vw;
    transform: scale(0.90,1);
    text-align: center;
  }
  #episode-description {
    font-size: 5vw;
  }
  /* Start Button*/
  #animater {
    background-color: black;
    border: none;
    background: black;
    color: rgb(229, 177, 58);
    font-family: SW Crawl Title;
    font-size: 20px;
    transform: scale(1.5,1);
  }
  #animater:disabled {
    color: gray;
  }
  /* 
   * media queries 
   */
    /* xsmall - fewer than 768px (this is the default) */
  .background-box {
    perspective: 500px;
    width: 300px;
  }
  #series-intro {
    font-size: 18px;
  }
  #swt-base-shift {
    transform: scale(0.95, 1) translateY(-650px);
  }
  #episode-number {
    font-size: 23px;
  }
  #episode-title {
    font-size: 60px;
  }
  #episode-description {
    font-size: 23px;
  }

    /* small - 768px and up */
  @media (min-width: 768px) { 
    .background-box {
      perspective: 1800px;
      width: 575px;
    }
    #series-intro {
      font-size: 32px;
    }
    #swt-base-shift {
      transform: scale(0.95, 1) translateY(-875px);
    }
    #episode-number {
      font-size: 50px;
    }
    #episode-title {
      font-size: 115px;
    }
    #episode-description {
      font-size: 50px;
    }
  }
</style>

<script>
var audio = new Audio('../sounds/starwars.mp3');
var backgroundBox = $('.background-box');

var buildDOM = function() {
  // Content to create crawl with.
  var introText = "A long time ago in a galaxy far, far away...";
  var episodeText = "Episode IV";
  var nameText = "A NEW HOPE";
  var descriptionText = "It is a period of civil war. Rebel spaceships, striking from a hidden base, have won their first victory against the evil Galactic Empire.\n\nDuring the battle, Rebel spies managed to steal secret plans to the Empire's ultimate weapon, the DEATH STAR, an armored space station with enough power to destroy an entire planet.\n\nPursued by the Empire's sinister agents, Princess Leia races home aboard her starship, custodian of the stolen plans that can save her people and restore freedom to the galaxy . . . .".replace("\n","<br><br>");
  // Create boxes for the introductory parts.
  var introBox = '<p id="series-intro">' + introText + '</p>';
  var titleBox = '<p id="series-title">S</p>';
  backgroundBox.append(introBox + titleBox);
  // Create boxes to put the episode text in.
  var episodeBox = '<p id="episode-number">' + episodeText + '</p>';
  var nameBox = '<p id="episode-title">' + nameText + '</p>';
  var descriptionBox = '<p id="episode-description">' + descriptionText + '</p>';
  // Create main div for animation. Format carefully.
  var totalBox = '<div id="swt"><div id="swt-base-shift"><div id="swt-embedded">' + episodeBox + nameBox + descriptionBox + '</div></div></div>';
  backgroundBox.append(totalBox);
}

var runAnimation = function() {
  // Fade out "A long time ago...".
  $('#series-intro').css('opacity',1.0);
  var fadeOutIntro = function() {
    $('#series-intro').animate({
      opacity: 0.0
    }, 1000, function() {
      // Animation ended. Animate in Star Wars; start music.
      $('#series-title').css('visibility','visible');
      $('#series-title').css('transform','translate(-50%,-50%) scale(1,1)');
      setTimeout(function() {
        setTimeout(scaleStarWarsLogo, logoTimeGap)
      }, 500);
      // Play sound.
      audio.play();
    });
  }
  // Scale "STAR WARS".
  var logoScale = 1.0;
  var logoScaleRatio = 0.985;
  var logoStepCount = 0;
  var logoTotalTime = 10 * 1000; // ms.
  var logoTimeGap = 40; // ms.
  var scaleStarWarsLogo = function() {
    logoScale *= logoScaleRatio;
    logoStepCount++;
    $('#series-title').css('transform','translate(-50%,-50%) scale('+logoScale+','+logoScale+')');
    if(logoStepCount * logoTimeGap >= logoTotalTime) {
      // End animation and bring in text.
      $('#series-title').css('visibility','hidden');
      $('#swt-embedded').css('opacity',1.0);
      setTimeout(animateTextUp, textAnimationStep);
    } else {
      // Next step of animation.
      setTimeout(scaleStarWarsLogo, logoTimeGap);
    }
  };
  // Animate main body of text in and "upwards."
  var currentYShift = 0;
  var endYShift = 2400;
  var textAnimationStep = 18; // Delay between animation frames, in ms.
  var stopAnimatingText = false;
  var animateTextUp = function() {
    currentYShift++;
    $('#swt-embedded').css('-webkit-transform','translateY(-'+currentYShift+'px)');
    if( currentYShift == endYShift) {
      // Fade out.
      fadeTextOut();
    }
    if( !stopAnimatingText ) {
      setTimeout(animateTextUp, textAnimationStep);
    }
  }
  // Fade out main body of text.
  var fadeTextOut = function() {
    $('#swt-embedded').animate({
      opacity: 0.0
    }, 1000, function() {
      // Fade out audio.
      $(audio).animate({ volume: 0.1 }, 3500
        , function() {
          // Animation ended. Stop moving text.
          stopAnimatingText = true;
          // Unstick button.
          $('#animater').attr("disabled", false);
          // End audio.
          audio.pause();
          audio.currentTime = 0;
        });
    });
  }
  // Start first animation.
  setTimeout(fadeOutIntro, 4000);
}

// Build DOM.
buildDOM();

$('#animater').click(function() {
  // Disable button.
  $(this).attr("disabled", true);
  // Run animation.
  runAnimation();
});

</script>


            <br>
            
  <div id="disqus">
    <div id="disqus_thread"></div>
  </div>
  <style>
    #disqus {
      padding: 10px;
    }
  </style>
  <script>

  /**
  *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
  *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
  
  var disqus_config = function () {
    this.page.url = "http://jackxmorris.com/posts/star-wars-opening-crawl";  // Replace PAGE_URL with your page's canonical URL variable
		this.page.identifier = "http://jackxmorris.com/posts/star-wars-opening-crawl"; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
  };
  
  (function() { // DON'T EDIT BELOW THIS LINE
  var d = document, s = d.createElement('script');
  s.src = '//jackxmorris.disqus.com/embed.js';
  s.setAttribute('data-timestamp', +new Date());
  (d.head || d.body).appendChild(s);
  })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
 

          </div>

        </article>
      </div>
    </div>

    <!-- Footer with social media icons. Code thanks to https://codepen.io/ruandre/pen/howFi -->
<footer> 
    <div class="row">
        <div class="social-media-icons col-lg-6 col-lg-offset-3 col-md-8 col-md-offset-2 col-sm-10 col-sm-offset-1 col-xs-12">
            <div> <!-- RSS -->
                <a href="/feed.xml" class="icon-21 rss" title="RSS">
                    <svg viewBox="0 0 512 512">
                        <path d="M201.8 347.2c0 20.3-16.5 36.8-36.8 36.8 -20.3 0-36.8-16.5-36.8-36.8s16.5-36.8 36.8-36.8C185.3 310.4 201.8 326.8 201.8 347.2zM128.2 204.7v54.5c68.5 0.7 124 56.3 124.7 124.7h54.5C306.7 285.3 226.9 205.4 128.2 204.7zM128.2 166.6c57.9 0.3 112.3 22.9 153.2 63.9 41 41 63.7 95.5 63.9 153.5h54.5c-0.3-149.9-121.7-271.4-271.6-271.9V166.6L128.2 166.6z"/>
                    </svg><!--[if lt IE 9]><em>RSS</em><![endif]-->
                </a>
            </div>
            <div> <!-- Github -->
                <a href="https://github.com/jxmorris12" class="icon-13 github" title="GitHub">
                    <svg viewBox="0 0 512 512">
                        <path d="M256 70.7c-102.6 0-185.9 83.2-185.9 185.9 0 82.1 53.3 151.8 127.1 176.4 9.3 1.7 12.3-4 12.3-8.9V389.4c-51.7 11.3-62.5-21.9-62.5-21.9 -8.4-21.5-20.6-27.2-20.6-27.2 -16.9-11.5 1.3-11.3 1.3-11.3 18.7 1.3 28.5 19.2 28.5 19.2 16.6 28.4 43.5 20.2 54.1 15.4 1.7-12 6.5-20.2 11.8-24.9 -41.3-4.7-84.7-20.6-84.7-91.9 0-20.3 7.3-36.9 19.2-49.9 -1.9-4.7-8.3-23.6 1.8-49.2 0 0 15.6-5 51.1 19.1 14.8-4.1 30.7-6.2 46.5-6.3 15.8 0.1 31.7 2.1 46.6 6.3 35.5-24 51.1-19.1 51.1-19.1 10.1 25.6 3.8 44.5 1.8 49.2 11.9 13 19.1 29.6 19.1 49.9 0 71.4-43.5 87.1-84.9 91.7 6.7 5.8 12.8 17.1 12.8 34.4 0 24.9 0 44.9 0 51 0 4.9 3 10.7 12.4 8.9 73.8-24.6 127-94.3 127-176.4C441.9 153.9 358.6 70.7 256 70.7z"/>
                    </svg><!--[if lt IE 9]><em>GitHub</em><![endif]-->
                </a>
            </div>
            <div> <!-- LinkedIn -->
                <a href="https://www.linkedin.com/in/jack-morris-098090103" class="icon-17 linkedin" title="LinkedIn">
                    <svg viewBox="0 0 512 512">
                        <path d="M186.4 142.4c0 19-15.3 34.5-34.2 34.5 -18.9 0-34.2-15.4-34.2-34.5 0-19 15.3-34.5 34.2-34.5C171.1 107.9 186.4 123.4 186.4 142.4zM181.4 201.3h-57.8V388.1h57.8V201.3zM273.8 201.3h-55.4V388.1h55.4c0 0 0-69.3 0-98 0-26.3 12.1-41.9 35.2-41.9 21.3 0 31.5 15 31.5 41.9 0 26.9 0 98 0 98h57.5c0 0 0-68.2 0-118.3 0-50-28.3-74.2-68-74.2 -39.6 0-56.3 30.9-56.3 30.9v-25.2H273.8z"/>
                    </svg><!--[if lt IE 9]><em>LinkedIn</em><![endif]-->
                </a>
            </div>
            <div> <!-- Twitter -->
                <a href="https://twitter.com/jxmorris12" class="icon-26 twitter" title="Twitter">
                    <svg viewBox="0 0 512 512">
                        <path d="M419.6 168.6c-11.7 5.2-24.2 8.7-37.4 10.2 13.4-8.1 23.8-20.8 28.6-36 -12.6 7.5-26.5 12.9-41.3 15.8 -11.9-12.6-28.8-20.6-47.5-20.6 -42 0-72.9 39.2-63.4 79.9 -54.1-2.7-102.1-28.6-134.2-68 -17 29.2-8.8 67.5 20.1 86.9 -10.7-0.3-20.7-3.3-29.5-8.1 -0.7 30.2 20.9 58.4 52.2 64.6 -9.2 2.5-19.2 3.1-29.4 1.1 8.3 25.9 32.3 44.7 60.8 45.2 -27.4 21.4-61.8 31-96.4 27 28.8 18.5 63 29.2 99.8 29.2 120.8 0 189.1-102.1 185-193.6C399.9 193.1 410.9 181.7 419.6 168.6z"/>
                    </svg><!--[if lt IE 9]><em>Twitter</em><![endif]-->
                </a>
            </div>
        </div>
    </div> 
</footer>

  </body>

</html>
